<!doctype html>
<html lang="en">

<head>
	<title>브로그래머S</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    

	<!-- VENDOR CSS -->
	<link rel="stylesheet" href="assets/vendor/bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" href="assets/vendor/font-awesome/css/font-awesome.min.css">
	<link rel="stylesheet" href="assets/vendor/linearicons/style.css">
	<link rel="stylesheet" href="assets/vendor/chartist/css/chartist-custom.css">
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="assets/css/st.action-panel.css" />
	<link rel="stylesheet" type="text/css" href="assets/css/toggle.css">
	<!-- MAIN CSS -->
	<link rel="stylesheet" href="assets/css/main.css">
	<!-- FOR DEMO PURPOSES ONLY. You should remove this in your project -->
	<link rel="stylesheet" href="assets/css/demo.css">
	<!-- GOOGLE FONTS -->
	<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700" rel="stylesheet">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<!-- ICONS -->
	
	<link rel="apple-touch-icon" sizes="76x76" href="assets/img/apple-icon.png"><!-- 타이틀 아이콘 -->
	<link rel="icon" type="image/png" sizes="96x96" href="assets/img/favicon.png"><!-- 로고 아이콘 -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
	
	<!-- WRAPPER -->
	<div id="wrapper">
		<!-- NAVBAR -->
		<nav class="navbar navbar-default navbar-fixed-top">
			<div class="brand">
				<a href="index.html"><img src="assets/img/logo-dark.png" alt="Klorofil Logo" class="img-responsive logo"></a><!-- 로고 -->
			</div>
			<div class="container-fluid">
				
				<form class="navbar-form navbar-left">
				</form>
				<div class="navbar-btn navbar-btn-right">
					
				</div>
				<div id="navbar-menu">
					<ul class="nav navbar-nav navbar-right">
						
						
						<!-- <li>
							<a class="update-pro" href="https://www.themeineed.com/downloads/klorofil-pro-bootstrap-admin-dashboard-template/?utm_source=klorofil&utm_medium=template&utm_campaign=KlorofilPro" title="Upgrade to Pro" target="_blank"><i class="fa fa-rocket"></i> <span>UPGRADE TO PRO</span></a>
						</li> -->
					</ul>
				</div>
			</div>
		</nav>
		<!-- END NAVBAR -->
		<!-- LEFT SIDEBAR -->
		<div id="sidebar-nav" class="sidebar">
			<div class="sidebar-scroll">
				<nav>
					<ul class="nav">
						<li><a href="index.html" class="active"><i class="lnr lnr-home"></i> <span>Dashboard</span></a></li>
						<li><a href="charts.html" class=""><i class="lnr lnr-chart-bars"></i> <span>Charts</span></a></li>
						<li><a href="panels.html" class=""><i class="lnr lnr-cog"></i> <span>Panels</span></a></li>
						<li><a href="notifications.html" class=""><i class="lnr lnr-alarm"></i> <span>Notifications</span></a></li>
					</ul>
				</nav>
			</div>
		</div>
		<!-- END LEFT SIDEBAR -->
		<!-- MAIN -->
		<div class="main">
			<!-- MAIN CONTENT -->
			<div class="main-content">
				<div class="container-fluid">
					<div class="row">
						<div class="col-md-6">
														<!-- 창 1 -->
							<div class="panel panel-headline">
								<div class="panel-heading">
									<h3 class="panel-title">현황판</h3>
									<p class="time"></p>
								</div>
								<div class="panel-body" id = "now_dash">
									<div class="row">
										<div class="col-md-3">
											<div class="weekly-summary text-right">
												<div class = 'tempRect'></div>
												<span class="info-label">현재 온도</span>
											</div>
											<div class="weekly-summary text-right">
												<span class="number">21.3</span> 
												<span class="info-label">지온</span>
											</div>
											<div class="weekly-summary text-right">
												<span class="number">4.7m/s</span> 
												<span class="info-label">풍속</span>
											</div>
										</div>
										<div class="col-md-3">
											<div class="weekly-summary text-right">
												<div class = 'humiRect'></div>
												<span class="info-label">현재 습도 </span>
											</div>
											<div class="weekly-summary text-right">
												<span class="number">63.7</span> 
												<span class="info-label">지습</span>
											</div>
											<div class="weekly-summary text-right">
												<span class="number">3217</span> 
												<span class="info-label">일사량</span>
											</div>
										</div>
										<div class="col-md-3">
											<div class="weekly-summary text-right">
												<div class = 'PhRect'></div>
												<span class="info-label">현재 PH 농도 </span>
											</div>
											<div class="weekly-summary text-right">
												<span class="number">33.2</span> 
												<span class="info-label">외부 온도</span>
											</div>
											<div class="weekly-summary text-right">
												<span class="number">0ml</span> 
												<span class="info-label">강우량</span>
											</div>
										</div>
										<div class="col-md-3">
											<div class="weekly-summary text-right">
												<div class = 'Co2Rect'></div>
												<span class="info-label">현재 Co2 농도 </span>
											</div>
											<div class="weekly-summary text-right">
												<span class="number">47.1</span> 
												<span class="info-label">외부 습도</span>
											</div>
											<div class="weekly-summary text-right">
												<span class="number">5.5</span> 
												<span class="info-label">급수 PH농도</span>
											</div>
										</div>
									</div>
								</div>
							</div>
							<!-- 창 3 -->
							<div class="panel panel-headline">
								<div class="panel-heading">
									<h3 class="panel-title">현재날씨/날씨예보</h3>
									<p class="panel-subtitle">기상청 제공</p>
								</div>
								<div class="panel-body">
									<div class="row">
										<div class="col-md-15">
											<div = 'weather'>
												<div class="metric">
												<h2 class="panel-title">현재날씨</h2>
													<div class = 'CurrIcon'>
														<div class = 'CurrText'></div>
													</div>
													<div class = 'CurrTemp'><h3> 온도</h3></div>
													<div class = 'CurrHumi'><h3 > 습도</h3></div>
													<div class = 'CurrWdsp'><h3 > 풍속</h3></div>
													<div class = 'CurrCdmt'><h3 > 구름량</h3></div>
													<div class = 'CurrRain'><h3 > 강우량</h3></div>
												</div>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-md-15">
											<div class="metric">
												<div = 'weather'>
													<h2 class="panel-title">날씨예보</h2>
													<div class = 'RectIcon'>
														<div class = 'RectText'></div>
													</div>
													<div class = 'RectTemp'><h3> 온도</h3></div>
													<div class = 'RectHumi'><h3 > 습도</h3></div>
													<div class = 'RectWdsp'><h3 > 풍속</h3></div>
													<div class = 'RectCdmt'><h3 > 구름량</h3></div>
													<div class = 'RectRain'><h3 > 강우량</h3></div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-md-6">
																					<!-- 창 2 일간 평균 대시보드-->
							<div class="panel panel-headline">
								<div class="panel-heading">
									<h3 class="panel-title">일간평균</h3>
									<p class="time"></p>
								</div>

								<div class="panel-body">
									<div class="row">
										<div class="col-md-3">
											<div class="weekly-summary text-right">
												<div class = 'TempMean'></div>
												<span class="info-label">일간 평균 온도 </span>
											</div>
											<div class="weekly-summary text-right">
												<span class="number">23.3</span> 
												<span class="info-label">일간 평균 지온</span>
											</div>
											<div class="weekly-summary text-right">
												<span class="number">3.2m/s</span> 
												<span class="info-label">일간 평균 풍속</span>
											</div>
											
										</div>
										<div class="col-md-3">
											<div class="weekly-summary text-right">
												<div class = 'HumiMean'></div>
												<span class="info-label">일간 평균 습도 </span>
											</div>
											<div class="weekly-summary text-right">
												<span class="number">65.7</span> 
												<span class="info-label">일간 평균 지습</span>
											</div>
											<div class="weekly-summary text-right">
												<span class="number">1519</span> 
												<span class="info-label">일간 평균 일사량</span>
											</div>
										</div>
										<div class="col-md-3">
											<div class="weekly-summary text-right">
												<div class = 'PhMean'></div>
												<span class="info-label">일간 평균 PH </span>
											</div>
											<div class="weekly-summary text-right">
												<span class="number">26.2</span> 
												<span class="info-label">일간 평균 외부 온도</span>
											</div>
											<div class="weekly-summary text-right">
												<span class="number">0ml</span> 
												<span class="info-label">일간 평균 강우량</span>
											</div>
										</div>
										<div class="col-md-3">
											<div class="weekly-summary text-right">
												<div class = 'Co2Mean'></div>
												<span class="info-label">일간 평균 Co2 </span>
											</div>
											<div class="weekly-summary text-right">
												<span class="number">52.5</span> 
												<span class="info-label">일간 평균 외부 습도</span>
											</div>
											<div class="weekly-summary text-right">
												<span class="number">5.5</span> 
												<span class="info-label">일간 평균 급수 PH농도</span>
											</div>
										</div>
									</div>
								</div>
							</div>

														<!-- 창 4 -->
							<div class="panel panel-headline">
								<div class="panel-heading">
									<h3 class="panel-title">변화량 추세</h3>
									<p class="time"></p>
								</div>
								<div class="panel-body">
									<canvas id="myChart"></canvas>
								</div>
							</div>
							<div class="st-actionContainer right-bottom">
								<div class="st-panel">
									<div class="st-panel-header"><i class="fa fa-bars" aria-hidden="true"></i> 제어판</div>
									<div class="st-panel-contents">
										브로그래머스 스마트팜 제어버튼
									</div>
										<span>창문1</span>
										<label class="switch">
											<input type = "checkbox"  id = "window_1" onclick="boolSend(id)">
											<span class = "slider round"></span>
										</label>
										<span>창문2</span>
										<label class="switch">
											<input type = "checkbox"  id = "window_2" onclick="boolSend(id)">
											<span class = "slider round"></span>
										</label>
										<span>환풍</span>
										<label class="switch">
											<input type = "checkbox"  id = "Ventil" onclick="boolSend(id)">
											<span class = "slider round"></span>
										</label>
										<span>펌프</span>
										<label class="switch">
											<input type = "checkbox"  id = "w_pump" onclick="boolSend(id)"> 
											<span class = "slider round"></span>
										</label>
									</div>
								<div class="st-btn-container right-bottom">
									<div class="st-button-main"><i class="fa fa-bars" aria-hidden="true"></i></div>
								</div>
							</div>
						</div>
					</div>
				</div>			<!-- END OVERVIEW -->
			</div>
		</div>



	</div>
		<!-- END MAIN -->
		<div class="clearfix"></div>
		<footer>
			<div class="container-fluid">
				<p class="copyright">Shared by <i class="fa fa-love"></i><a href="https://bootstrapthemes.co">BootstrapThemes</a>
</p>
			</div>
		</footer>
	</div>
	<!-- END WRAPPER -->
	<!-- Javascript -->
	<script src="assets/vendor/jquery/jquery.min.js"></script>
	<script src="assets/vendor/bootstrap/js/bootstrap.min.js"></script>
	<script src="assets/vendor/jquery-slimscroll/jquery.slimscroll.min.js"></script>
	<script src="assets/vendor/jquery.easy-pie-chart/jquery.easypiechart.min.js"></script>
	<script src="assets/vendor/chartist/js/chartist.min.js"></script>
	<script src="assets/scripts/klorofil-common.js"></script>
	<script src="assets/vendor/weather/weather_API.js"></script>
	<script src="assets/vendor/mean/means.js"></script>
	<script src="assets/vendor/mean/recent.js"></script>
	<script src="assets/vendor/mean/chart.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
	<script src="assets/vendor/btn/st.action-panel.js"></script>
	<script src="assets/vendor/btn/conbtn.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.js" type="text/javascript"></script>
   	<script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.min.js" type="text/javascript"></script>
<script>
$(document).ready(function(){
	$('st-actionContainer').launchBtn( { openDuration: 500, closeDuration: 300 } );
});
</script>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-36251023-1']);
  _gaq.push(['_setDomainName', 'jqueryscript.net']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script>

	$(document).ready(function(){
		
		// function 실행
		fncStartMqtt();
		
	});
	
	
	// MQTT client
	var mqttClient= null;
	
	//MQTT info
	// 각자 상황에 맞는 host, port, topic 을 사용합니다.
	var mqtt_host = "175.126.123.217";
	var mqtt_port = "5051";
	clientID = "clientID-" + parseInt(Math.random() * 100);

	// MQTT 클라이언트 연결
	function fncStartMqtt() 
	{
		client = new Paho.MQTT.Client(mqtt_host, Number(5051), clientID);

// set callback handlers
client.onConnectionLost = onConnectionLost;
client.onMessageArrived = onMessageArrived;

// connect the client
client.connect({onSuccess:onConnect});
	}
	
	// 연결 성공 시 실행되는 function
	function onConnect() {
  // Once a connection has been made, make a subscription and send a message.
  console.log("onConnect");
  client.subscribe("World");
  message = new Paho.MQTT.Message("Hello");
  message.destinationName = "World";
  client.send(message);
}

// called when the client loses its connection
function onConnectionLost(responseObject) {
  if (responseObject.errorCode !== 0) {
    console.log("onConnectionLost:"+responseObject.errorMessage);
  }
}

// called when a message arrives
function onMessageArrived(message) {
  console.log("onMessageArrived:"+message.payloadString);
}
	
	</script>
 	


	
</body>

</html>
